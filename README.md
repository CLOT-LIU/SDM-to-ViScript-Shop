# SDM商店转ViScriptShop工具

一个功能强大的工具箱，用于将 SDM 商店转换为 ViScriptShop 格式，提供直观的 GUI 界面，简化用户操作流程。

## 功能特点

- 🎯 **SDM 商店转 ViScriptShop**：将 SDM 格式的商店文件 (`sdmshop.snbt`) 转换为 ViScriptShop 格式
- 🖥️ **直观的 GUI 界面**：提供简洁易用的图形界面，降低使用门槛
- 🔄 **实时日志显示**：转换过程中实时显示日志，让用户了解当前进度
- 📊 **模组对比分析**：自动分析原整合包和目标整合包的模组差异
- 📋 **缺失物品检测**：检测并报告目标整合包中缺失的物品
- 🎨 **分类保留**：保留原始商店的分类结构和图标
- ⚡ **缓存机制**：使用缓存提高重复操作的执行速度

## 项目结构

```
SDM商店转ViScriptShop工具/
├── 1.过程/            # 转换过程中的中间文件
├── 2.输出/            # 转换生成的最终文件
├── 3.报告/            # 生成的分析报告
├── ViScriptShop/      # ViScriptShop 相关文件
├── sdmshop.snbt       # SDM 商店文件（需用户提供）
├── shop_toolkit_gui.py # GUI 主程序
└── shop_toolkit.pyz   # 打包的工具文件
```

## 使用方法

### 1. 准备工作

1. 确保您的系统已安装 Python 3.7 或更高版本
2. 确保 `sdmshop.snbt` 文件位于工具箱目录中
3. 准备好原整合包和目标整合包的目录路径

### 2. 运行程序

```bash
# 直接运行 GUI 程序
python shop_toolkit_gui.py
```

### 3. 操作步骤

1. **选择目录**：在 GUI 界面中选择原整合包目录和目标整合包目录
2. **开始转换**：点击「开始转换」按钮启动转换过程
3. **查看日志**：实时查看转换过程的详细日志
4. **获取结果**：转换完成后，在 `2.输出` 目录中获取生成的 `extracted_shop_by_category.shopproj` 文件
5. **查看报告**：在 `3.报告` 目录中查看模组对比和缺失物品报告

## 技术实现

- **AI 开发**：全程使用 Trae AI工具进行代码开发、功能实现和优化改进
- **GUI 框架**：使用 tkinter 构建跨平台图形界面
- **NBT 处理**：自定义 NBTReader 和 NBTWriter 类处理 Minecraft NBT 格式
- **SNBT 解析**：解析 SDM 商店的 SNBT 格式文件
- **模组分析**：扫描整合包目录中的模组，提取模组信息和物品列表
- **缓存系统**：使用内存缓存减少重复扫描的时间

## 注意事项

1. 请确保 `sdmshop.snbt` 文件格式正确，且位于工具箱目录中
2. 目标整合包需要安装相应的模组，以确保物品能够正常显示
3. 转换过程中可能会因网络或文件权限问题而失败，请确保有足够的权限
4. 对于大型商店文件，转换时间可能会较长，请耐心等待

## 故障排除

### 常见错误

- **找不到 sdmshop.snbt 文件**：请确保该文件位于工具箱目录中
- **模组扫描失败**：请检查整合包目录路径是否正确，以及是否有读取权限
- **转换 NBT 失败**：请检查输入文件格式是否正确

### 解决方法

1. 确保所有路径和文件都正确无误
2. 检查 Python 版本是否符合要求
3. 查看日志输出了解具体错误信息
4. 确保目标整合包已安装必要的模组

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

## 许可证

MIT License

## 更新日志

### v1.0.0
- 初始版本发布
- 实现 SDM 商店转 ViScriptShop 功能
- 添加 GUI 界面
- 实现实时日志显示
- 添加模组对比和缺失物品检测功能
